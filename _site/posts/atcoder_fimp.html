<!DOCTYPE html>
<html lang="ja"><head><meta charset="utf-8">
<title>プログラミングコンテストに初参加した | eliza.link</title>
<meta name="author" content="@Eliza_0x">

<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sanitize.css/2.0.0/sanitize.min.css">
<link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/earlyaccess/mplus1p.css" rel="stylesheet">
<link rel="stylesheet" href="../static/style.css">


<meta name="twitter:widgets:link-color" content="#666">
</head>

<body class="container container--column"><header><h1 class="blogtitle"><a class="blogtitle" href="../">ELIZA.link</a>
</h1>
<nav class="topnav"><ul class="container container--row container__center navigation"><li><a href="../archive.html">Archive</a>
</li>
<li><a href="../products.html">Products</a>
</li>
<li><a href="../contact.html">Contact</a>
</li>
<li><a href="../rss.xml">RSS</a>
</li>
</ul>
</nav>
</header>
<main>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({displayAlign: "left",
displayIndent: "2em"});</script>
<article><a href="../posts/atcoder_fimp.html"><h1>プログラミングコンテストに初参加した</h1>
</a>
<ul class="article_data"><li>  Posted on May 14, 2017</li>

<li> Tags: <a href="../tags/haskell.html">haskell</a>, <a href="../tags/kosen14s.html">kosen14s</a>, <a href="../tags/programming.html">programming</a></li>
</ul>
<section class="article_text"><p>昨日はじめてプログラミングコンテストに参加しました<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>。Atcoder Beginner Contest 061です。一問も解けませんでした。 <!--more--></p>
<h2 id="どうして始めたか">どうして始めたか</h2>
<p>もともと私はHaskellやSchemeが好きで、プログラミングコンテストは興味が無いというふうにしておいたほうが良い、という状況でした。なんとなく興味はずっと持っていたので、機会<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>もあり、競技プログラミングのチームに加入しました。</p>
<h2 id="なにがあったか">なにがあったか</h2>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">main ::</span> <span class="dt">IO</span> () 
main <span class="fu">=</span> <span class="kw">do</span>
  [a, b, c] <span class="ot">&lt;-</span> words <span class="fu">&lt;$&gt;</span> getLine
  putStrLn <span class="fu">$</span> <span class="kw">if</span> (c <span class="fu">&gt;=</span> a) <span class="fu">&amp;&amp;</span> (c <span class="fu">&lt;=</span> b) <span class="kw">then</span> <span class="st">&quot;Yes&quot;</span> <span class="kw">else</span> <span class="st">&quot;No&quot;</span></code></pre></div>
<p>一見正しそうにみえますが、<code>a, b, c</code>の型に注目すると、String型であることに気がつくでしょう。じゃあ何故比較できているか、StringはOrdのインスタンスなんですね、型は或る種の間違いは防いでくれるがStringは比較できてしまった。</p>
<p><strong>型注釈は書こう！</strong></p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">main ::</span> <span class="dt">IO</span> () 
main <span class="fu">=</span> <span class="kw">do</span>
  [a, b, c] <span class="ot">&lt;-</span> map toInt <span class="fu">.</span> words <span class="fu">&lt;$&gt;</span> getLine
  putStrLn <span class="fu">$</span> <span class="kw">if</span> (c <span class="fu">&gt;=</span> a) <span class="fu">&amp;&amp;</span> (c <span class="fu">&lt;=</span> b) <span class="kw">then</span> <span class="st">&quot;Yes&quot;</span> <span class="kw">else</span> <span class="st">&quot;No&quot;</span>
  <span class="kw">where</span>
  toInt <span class="fu">=</span><span class="ot"> read ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Int</span></code></pre></div>
<p>これが正しいコードです。</p>
<p>ふだん使わない関数も沢山使えて面白かったですね、普段は<code>&amp;&amp;&amp;</code>や<code>replicate</code>なんて使わないのですが。</p>
<p>純粋関数型のHaskellは入出力に苦労する、と思われているかもしれませんが今回問題に出た「一行目で渡された回数だけ入力を受け取る」なんてのも案外素直に書けてしまいます。もしかすると命令型言語よりも綺麗に書けているのではないでしょうか。</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">main ::</span> <span class="dt">IO</span> ()
main <span class="fu">=</span> <span class="kw">do</span>
  [n, m] <span class="ot">&lt;-</span> map toInt <span class="fu">.</span> words <span class="fu">&lt;$&gt;</span> getLine
  xs <span class="ot">&lt;-</span> mapM (\_ <span class="ot">-&gt;</span> getLine) [<span class="dv">1</span><span class="fu">..</span>n]<span class="ot"> ::</span> <span class="dt">IO</span> [<span class="dt">String</span>]
  mapM_ putStrLn xs
  <span class="kw">where</span>
  toInt <span class="fu">=</span><span class="ot"> read ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Int</span></code></pre></div>
<h2 id="おもしろかった">おもしろかった</h2>
<p>例題は通るのですが、ACできない。他の問題もきっと問題文をきちんと理解できていないような気がします。はじめは問題をC++で解こうとしていたのですが、まったくアルゴリズムが思いつかない。しかたなくHaskellに切り換えると思いつく、といったふうでしたから、プログラミング言語に思考は縛られているんだという実感をえることができました。もっとC++をかけるようにならなくちゃならない<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a>。くやしいので来週のコンテストにも参加します。</p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>これは半分ぐらい正しくなくて、一度だけ飛び入り参加で爆死したことがある<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>大学の学生プロジェクトが存在する<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>実行速度云々以前に、Haskellが使えないコンテストにもチームで参加するため<a href="#fnref3">↩</a></p></li>
</ol>
</div></section>
</article>
</main>
<footer>This page published under the MIT Licence.</footer>
</body>
</html>
