<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>Posts tagged music - eliza.link</title>
        <link>https://eliza.link</link>
        <description><![CDATA[技術や読書録を残します]]></description>
        <atom:link href="https://eliza.link/tags/music.xml" rel="self"
                   type="application/rss+xml" />
        <lastBuildDate>Mon, 19 Sep 2016 00:00:00 UT</lastBuildDate>
        <item>
    <title>Lilypondで楽譜を書いた</title>
    <link>https://eliza.link/posts/IntroductoryLilypond.html</link>
    <description><![CDATA[<article><a href="/posts/IntroductoryLilypond.html"><h2>Lilypondで楽譜を書いた</h2>
</a>
<ul class="article_data"><li>  Posted on September 19, 2016</li>

<li> Tags: <a href="/tags/music.html">music</a></li>
</ul>
<p>吹奏楽部でソロをもらったのですが、本来はピアノがソロを担当する曲なのでサックスの譜面がなく、しかたなく書くことになりました。 はじめはMusicTeXを使おうと思ったのですが少し難しかった。なので次の候補だったLilypondを試してみると、使いやすかったので記録をのこしておきます。</p>
<blockquote>
<p>LilyPond は、可能な限り高品位な楽譜を生み出すことを目的とする、オープン ソースの楽譜作成プログラムです。このフリー ソフトウェアは、伝統的な彫版の楽譜の美しさをコンピュータ プリントアウトで実現します。LilyPond はフリーソフトウェアであり、GNU プロジェクト の一部です。 - <a href="http://lilypond.org/index.ja.html" class="uri">http://lilypond.org/index.ja.html</a></p>
</blockquote>
<!--more-->
<p>GNUらしく公式サイトでは自由が強調されています。GNUのサイトはデザインこそカッコイイとはいい難いものの、どれも目にやさしく見やすいので私は好きです。</p>
<p>「高品位な」と言っているだけあって、無調整でもなかなか美しい楽譜を作ることが出来ました。 LilypondはTeX同様、テキストからpdfを出力します、なのでバージョン管理もできますし、好きなエディターで編集することもできます、そしてTeXと比べ非常に高速で簡単に扱う事ができます。</p>
<p>弱点といいますか、WYSIWYGではないのでちょっと間違いを見つけたときに書き直す箇所をみつけるのが大変でした、今回それ以外はまったく問題ありませんでした。</p>
<h2 id="環境を整える">環境を整える</h2>
<p>わたしはVimで楽譜を書きたかったので、Vimに<a href="https://github.com/matze/vim-lilypond">matze/vim-lilypond</a>を追加しました。 PlugやNeoBundle、今ならdein等のVimのプラグインマネージャを使えば簡単に導入できるでしょう。 話はそれますが、わたしは<a href="https://github.com/itchyny/miv">miv</a>というHaskellで書かれたプラグインマネージャを使用しています。オススメです。</p>
<h2 id="楽譜を書く">楽譜を書く</h2>
<p>Lilypondは用意に使用できるにかかわらず非常に強力です、以下に<a href="http://lilypond.org/examples.ja.html" class="uri">http://lilypond.org/examples.ja.html</a>からの例を載せておきます。</p>
<div class="figure">
<img src="../images/LilypondExam2.png" />

</div>
<p><a href="http://lilypond.org/doc/v2.18/Documentation/learning/index.ja.html">公式サイトのリファレンス</a>がわかりやすく充実しているので、それを読めば楽譜はひととおり書けるでしょう。</p>
<p><a href="http://lilypond.org/doc/v2.18/Documentation/notation/cheat-sheet">チートシート</a>も用意されています。</p>
<p>この説明だけでは味気ないのですこしだけサンプルコードを載せておきます。</p>
<div class="sourceCode"><pre class="sourceCode lilypond"><code class="sourceCode lilypond"><span class="kw">\version</span> &quot;<span class="st">2.18.2&quot;</span>
<span class="kw">{</span>
  c&#39; e&#39; g&#39; e&#39;
<span class="kw">}</span></code></pre></div>
<p>以上のコードで</p>
<div class="figure">
<img src="../images/LilypondExam3.png" />

</div>
<p>のような譜面ができます。ひとつずつ解説しましょう。</p>
<ul>
<li>楽譜の目には見えない部分の設定は、<code>\hoge</code>でおこないます。<code>\version</code>はLilypondのバージョンを指定しています。</li>
<li>楽譜本体は<code>{</code>と<code>}</code>で囲みます。</li>
<li>音の指定はコードで指定します。<code>a</code>から<code>g</code>までで<code>h</code>は存在しません。小文字です。</li>
<li>コードの後の<code>'</code>は1オクターブ上の音、という意味です。</li>
</ul>
<div class="sourceCode"><pre class="sourceCode lilypond"><code class="sourceCode lilypond"><span class="kw">\version</span> &quot;<span class="st">2.18.2&quot;</span>

<span class="fu">\relative c&#39;</span> <span class="kw">{</span>
  c&#39; c&#39; c&#39; c&#39; <span class="dv">|</span> c&#39; c&#39; c&#39; c&#39; <span class="dv">|</span> c, c, c, c, <span class="dv">|</span> c, c, c, c,
<span class="kw">}</span></code></pre></div>
<div class="figure">
<img src="../images/LilypondExam5.png" />

</div>
<ul>
<li><code>\relative</code>で相対的に記述を行うことができます。</li>
<li><code>|</code>で小節を明示的に区切ることができます。自動でも区切られますが、あえて示す事によって一小節に音が足りない場合を検知してくれるのでミスが減ります。</li>
</ul>
<div class="sourceCode"><pre class="sourceCode lilypond"><code class="sourceCode lilypond"><span class="kw">\version</span> &quot;<span class="st">2.18.2&quot;</span>

<span class="fu">\relative c&#39;</span> <span class="kw">{</span>
  <span class="fu">\key f</span> <span class="fu">\major</span>
  c&#39; r<span class="dt">2</span> d,<span class="dt">4</span> <span class="dv">|</span> r<span class="dt">4.</span> d<span class="dt">8</span> c<span class="dt">4</span> a
<span class="kw">}</span></code></pre></div>
<div class="figure">
<img src="../images/LilypondExam4.png" />

</div>
<ul>
<li>音の後の数字で長さを指定します。</li>
<li><code>\key</code>で調を指定しています。</li>
<li><code>r</code>で休符です。</li>
</ul>
<div class="sourceCode"><pre class="sourceCode lilypond"><code class="sourceCode lilypond"><span class="kw">\version</span> &quot;<span class="st">2.18.2&quot;</span>

<span class="fu">\relative c&#39;&#39;</span> <span class="kw">{</span>
  a b c d <span class="dv">|</span> <span class="dt">&lt;</span>a b&gt; <span class="dt">&lt;</span>a b&gt; <span class="dt">&lt;</span>a b&gt; <span class="dt">&lt;</span>a b&gt;<span class="ch">(</span> <span class="dv">|</span> <span class="dt">&lt;</span>a b c d e&gt;<span class="dt">1</span><span class="ch">)~</span> <span class="dv">|</span> <span class="dt">&lt;</span>a b c d e&gt;<span class="dt">1</span>
<span class="kw">}</span></code></pre></div>
<div class="figure">
<img src="../images/LilypondExam6.png" />

</div>
<ul>
<li><code>&lt;</code>と<code>&gt;</code>で囲んだ範囲が和音になります。</li>
<li><code>(</code>と<code>)</code>で囲んだ範囲がスラーになります。</li>
<li><code>~</code>を付けると後の音とのタイになります。</li>
</ul>
<div class="sourceCode"><pre class="sourceCode lilypond"><code class="sourceCode lilypond"><span class="kw">\version</span> &quot;<span class="st">2.18.2&quot;</span>

<span class="fu">\relative c&#39;&#39;</span> <span class="kw">{</span>
    c<span class="dt">4</span>-<span class="st">^\p</span> c-<span class="st">+\pp</span> c-<span class="st">-\f</span> c-!<span class="st">\ff</span> <span class="dv">|</span> c<span class="dt">4</span>-<span class="st">&gt;</span> c-<span class="st">.</span> c<span class="dt">2</span>-<span class="st">_</span>
  <span class="dv">|</span> a<span class="st">\&lt;</span> b<span class="st">\!</span> c d<span class="st">\&gt;</span> <span class="dv">|</span> e<span class="dt">1</span>
<span class="kw">}</span></code></pre></div>
<div class="figure">
<img src="../images/LilypondExam7.png" />

</div>
<ul>
<li>各アーテュキレーションも付ける事ができます。</li>
<li><code>\!</code>でクレセンド、デクレセンドの終端になります。</li>
</ul>
<p>最後に、わたしの実際に書いたコードの断片を紹介します。</p>
<div class="sourceCode"><pre class="sourceCode lilypond"><code class="sourceCode lilypond"><span class="kw">\version</span> &quot;<span class="st">2.18.2&quot;</span> 

\header<span class="kw"> {</span> 
 title = <span class="bn">\markup</span> <span class="bn">\center-align</span> <span class="kw">{</span> &quot;<span class="st">Autumn Leaves&quot;</span> <span class="kw">}</span> 
 subtitle = <span class="bn">\markup</span> <span class="bn">\center-align</span> <span class="kw">{</span> &quot;<span class="st">Solo Score&quot;</span> <span class="kw">}</span> 
<span class="kw">}</span> 
\paper<span class="kw"> {</span> 
	#<span class="fl">( set-paper-size &quot;</span><span class="st">a4&quot;</span><span class="fl"> )</span> 
<span class="kw">}</span> 
<span class="fu">\transpose c&#39; bes&#39;</span> <span class="kw">{</span>
  <span class="fu">\relative c&#39;</span> <span class="kw">{</span>
    <span class="fu">\key f</span> <span class="fu">\major</span>
    <span class="fu">\time 4/4</span>
      r<span class="dt">2</span> d<span class="dt">8</span>^&quot;<span class="st">Solo&quot;</span> c bes a<span class="ch">(</span> <span class="dv">|</span> a<span class="dt">4.</span><span class="ch">)</span> d<span class="dt">8</span> c bes a c <span class="dv">|</span> bes a r g r f r a<span class="ch">(</span> <span class="dv">|</span> a<span class="ch">)</span> bes c a<span class="ch">(</span> a<span class="dt">4.</span><span class="ch">)</span> f<span class="dt">8</span> 
    <span class="dv">|</span> <span class="dt">&lt;</span>f a&gt; <span class="dt">&lt;</span>f a&gt; r<span class="dt">4</span> r<span class="dt">2</span> <span class="dv">|</span> r<span class="dt">8</span> e g<span class="dt">[</span> bes<span class="dt">]</span> d<span class="dt">[</span> c bes a<span class="dt">]</span> <span class="dv">|</span> bes cis,<span class="dt">4.</span> r<span class="dt">8</span> cis e<span class="dt">[</span> d<span class="dt">]</span><span class="ch">(</span> <span class="dv">|</span> d<span class="dt">4</span><span class="ch">)</span> r d<span class="dt">8</span> f a e&#39;
  <span class="kw">}</span>
<span class="kw">}</span></code></pre></div>
<div class="figure">
<img src="../images/LilypondExam8.png" />

</div>
<ul>
<li><code>\time 4/4</code>で四分の四拍子であることを明示。<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></li>
<li><code>-es</code>、<code>-is</code>でシャープ、フラット</li>
<li>Cの調の楽譜をBes調の楽譜に起こしたかったので、Cそのままで一度書いたあとに、<code>\relative c bes</code>でBesに変換した。</li>
</ul>
<p>さあ、LilyPondをインストールして音楽家になりましょう。</p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>この例の場合はしなくても良い<a href="#fnref1">↩</a></p></li>
</ol>
</div>
<ul class="article_data"><li> Tags: <a href="/tags/music.html">music</a></li>
</ul>
</article>
]]></description>
    <pubDate>Mon, 19 Sep 2016 00:00:00 UT</pubDate>
    <guid>https://eliza.link/posts/IntroductoryLilypond.html</guid>
    <dc:creator>Eliza Calls</dc:creator>
</item>

    </channel>
</rss>
